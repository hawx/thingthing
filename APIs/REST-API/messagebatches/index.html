---
title: Message Batches | Esendex Developers
canonical: /APIs/REST-API/messagebatches
layout: rest_page
menu_highlight: APIs
---

<h1 class="title">Message Batches</h1>

<div class="node">
  <div class="content">
    <p>The Message Batches resource can be used to query the Batches of Messages which have been sent from an Esendex Account. A common use of the Message Batches resource is to retrieve a summary of the status codes for the Messages which indicates the delivery progress. Any Message Batches scheduled to be sent in the future can also be cancelled.</p>

    <h2><a name="message-batches" id="message-batches"></a>Retrieve Message Batches</h2>

    <p>This operation will return a <a href="paging.html">paged response</a> of all Messages Batches for all Accounts that the user has permissions to view.</p>

    <dl class="dl-horizontal">
      <dt>URL</dt>

      <dd><code>https://api.esendex.com/v1.1/messagebatches</code></dd>

      <dt>HTTP Method</dt>

      <dd>GET</dd>

      <dt>Authentication</dt>

      <dd>Basic / Session</dd>

      <dt>Example request</dt>

      <dd>n/a</dd>

      <dt>Response</dt>

      <dd>Content Type: application/xml<br>
      HTTP Status Code: 200</dd>

      <dt>Response data</dt>

      <dd>
        <pre class="prettyprint lang-xml">
ersion="1.0" encoding="utf-8"?&gt;
ebatches startindex="0" count="15" totalcount="15"
p://api.esendex.com/ns/"&gt;
ebatch id="642A01A6-A483-44F3-A2F2-A48B1D0FE141" uri="https://api.esendex.com/v1.1/messagebatches/642A01A6-A483-44F3-A2F2-A48B1D0FE141"&gt;
dat&gt;2012-01-01T12:00:00.000Z&lt;/createdat&gt;
ize&gt;1&lt;/batchsize&gt;
tedbatchsize&gt;1&lt;/persistedbatchsize&gt;
&gt;
ledged&gt;0&lt;/acknowledged&gt;
isationfailed&gt;0&lt;/authorisationfailed&gt;
ting&gt;0&lt;/connecting&gt;
red&gt;0&lt;/delivered&gt;
&gt;0&lt;/failed&gt;
llydelivered&gt;0&lt;/partiallydelivered&gt;
ed&gt;0&lt;/rejected&gt;
led&gt;0&lt;/scheduled&gt;
t;0&lt;/sent&gt;
ted&gt;1&lt;/submitted&gt;
typeriodexpired&gt;0&lt;/validityperiodexpired&gt;
led&gt;0&lt;/cancelled&gt;
s&gt;
treference&gt;EX0000000&lt;/accountreference&gt;
dby&gt;user@example.com&lt;/createdby&gt;
gt;
gebatch&gt;
ro;&brvbar;(Additional Message Batches)&acirc;&euro;&brvbar;
gebatches&gt;


;

gt;
  
e&gt;
    
pre>
      </dd>
    </dl>

    <h2><a name="message-batches-one-account" id="message-batches-one-account"></a>Retrieve Message Batches for one account</h2>

    <p>This operation will return a <a href="paging.html">paged response</a> of all Messages Batches for one Account that the user has permission to view.</p>

    <dl class="dl-horizontal">
      <dt>URL</dt>

      <dd><code>https://api.esendex.com/v1.1/messagebatches?filterBy=account&amp;filterValue=EX000000</code></dd>

      <dt>HTTP Method</dt>

      <dd>GET</dd>

      <dt>Authentication</dt>

      <dd>Basic / Session</dd>

      <dt>Example request</dt>

      <dd>n/a</dd>

      <dt>Response</dt>

      <dd>Content Type: application/xml<br>
      HTTP Status Code: 200</dd>

      <dt>Response data</dt>

      <dd>
        <pre class="prettyprint">
ersion="1.0" encoding="utf-8"?&gt;
ebatches startindex="0" count="15" totalcount="15"
p://api.esendex.com/ns/"&gt;
ebatch id="1FDFF134-5939-48D5-B3E4-84790659084D" uri="https://api.esendex.com/v1.1/messagebatches/1FDFF134-5939-48D5-B3E4-84790659084D"&gt;
dat&gt;2012-01-01T12:00:00.000Z&lt;/createdat&gt;
ize&gt;1&lt;/batchsize&gt;
tedbatchsize&gt;1&lt;/persistedbatchsize&gt;
&gt;
ledged&gt;0&lt;/acknowledged&gt;
isationfailed&gt;0&lt;/authorisationfailed&gt;
ting&gt;0&lt;/connecting&gt;
red&gt;0&lt;/delivered&gt;
&gt;0&lt;/failed&gt;
llydelivered&gt;0&lt;/partiallydelivered&gt;
ed&gt;0&lt;/rejected&gt;
led&gt;0&lt;/scheduled&gt;
t;0&lt;/sent&gt;
ted&gt;1&lt;/submitted&gt;
typeriodexpired&gt;0&lt;/validityperiodexpired&gt;
led&gt;0&lt;/cancelled&gt;
s&gt;
treference&gt;EX0000000&lt;/accountreference&gt;
dby&gt;user@example.com&lt;/createdby&gt;
gt;
gebatch&gt;
ro;&brvbar;(Additional Message Batches)&acirc;&euro;&brvbar;
gebatches&gt;


;

gt;
  
e&gt;
    
pre>
      </dd>
    </dl>

    <h2><a name="message-batch" id="message-batch"></a>Retrieve a single Message Batch</h2>

    <p>This operation will return a single Message Batch response identified by its GUID.</p>

    <dl class="dl-horizontal">
      <dt>URL</dt>

      <dd><code>https://api.esendex.com/v1.1/messagebatches/<em>E82EB6DD-F457-4FCE-8003-AFDC66042FC9</em></code></dd>

      <dt>HTTP Method</dt>

      <dd>GET</dd>

      <dt>Authentication</dt>

      <dd>Basic / Session</dd>

      <dt>Example request</dt>

      <dd>n/a</dd>

      <dt>Response</dt>

      <dd>Content Type: application/xml<br>
      HTTP Status Code: 200<br>
      ETag: "{Value}"</dd>

      <dt>Response data</dt>

      <dd>
        <pre class="prettyprint">
ersion="1.0" encoding="utf-8"?&gt;
ebatch xmlns="http://api.esendex.com/ns/" id="E82EB6DD-F457-4FCE-8003-AFDC66042FC9" uri="https://api.esendex.com/v1.1/messagebatches/E82EB6DD-F457-4FCE-8003-AFDC66042FC9"&gt;
dat&gt;2012-01-01T12:00:00.000Z&lt;/createdat&gt;
ize&gt;1&lt;/batchsize&gt;
tedbatchsize&gt;1&lt;/persistedbatchsize&gt;
&gt;
ledged&gt;0&lt;/acknowledged&gt;
isationfailed&gt;0&lt;/authorisationfailed&gt;
ting&gt;0&lt;/connecting&gt;
red&gt;0&lt;/delivered&gt;
&gt;0&lt;/failed&gt;
llydelivered&gt;0&lt;/partiallydelivered&gt;
ed&gt;0&lt;/rejected&gt;
led&gt;0&lt;/scheduled&gt;
t;0&lt;/sent&gt;
ted&gt;1&lt;/submitted&gt;
typeriodexpired&gt;0&lt;/validityperiodexpired&gt;
led&gt;0&lt;/cancelled&gt;
s&gt;
treference&gt;EX0000000&lt;/accountreference&gt;
dby&gt;user@example.com&lt;/createdby&gt;
gt;
el="cancel" href="https://api.esendex.com/v1.1/messagebatches/E82EB6DD-F457-4FCE-8003-AFDC66042FC9/schedule" /&gt;
gebatch&gt;


;

gt;
  
e&gt;
    
pre>
      </dd>
    </dl>

    <h2><a name="scheduled-batch-cancel" id="scheduled-batch-cancel"></a>Cancelling a Scheduled Batch</h2>

    <p>If a Message Batch is scheduled to go out at a later time and this time is outside the cut off period of 5 minutes, the Message Batch response will contain a LINK element with REL attribute with value CANCEL (see the previous section). The HREF attribute for the LINK element provides a URI for cancelling the sending of a scheduled Batch. This should be performed as a DELETE request to the URI.</p>

    <dl class="dl-horizontal">
      <dt>URL</dt>

      <dd><code>https://api.esendex.com/v1.1/messagebatches/316B6FFF-E333-4039-93F5-61A1CE35BC18/schedule</code></dd>

      <dt>HTTP Method</dt>

      <dd>DELETE</dd>

      <dt>Authentication</dt>

      <dd>Basic / Session</dd>

      <dt>Example request</dt>

      <dd>n/a</dd>

      <dt>Response</dt>

      <dd>Content Type: application/xml<br>
      HTTP Status Code: 204</dd>

      <dt>Response data</dt>

      <dd>N/A</dd>
    </dl>

    <h2><a name="message-batch-name" id="message-batch-name"></a>Naming a Message Batch</h2>

    <p>You can name a Message Batch with an identifier of your choosing by sending a PUT request to an individual Message Batch with a string of up to 255 characters. This operation supports <a href="messagebatches.html#message-batches-concurrency-checking-etag">ETag concurrency checking</a>. If an update is successful, the Response Header will contain the new concurrency Id as the ETag value.</p>

    <dl class="dl-horizontal">
      <dt>URL</dt>

      <dd><code>https://api.esendex.com/v1.1/messagebatches/316B6FFF-E333-4039-93F5-61A1CE35BC18</code></dd>

      <dt>HTTP Method</dt>

      <dd>PUT</dd>

      <dt>Authentication</dt>

      <dd>Basic / Session</dd>

      <dt>Optional HTTP Headers</dt>

      <dd>If-Match: "{ETag}"<br>
      If-None-Match: "{ETag}"</dd>

      <dt>Example request</dt>

      <dd>
        <pre class="prettyprint">
ersion='1.0' encoding='utf-8'?&gt;
ebatch xmlns="http://api.esendex.com/ns/"&gt;
t;My Batch Name&lt;/name&gt;
gebatch&gt;


;

gt;
  
e&gt;
    
pre>
      </dd>

      <dt>Response</dt>

      <dd>HTTP Status Code: 204 No Content (if successful)<br>
      HTTP Status Code: 412 Precondition Failed (if concurrency checks fail)<br>
      ETag: "{Value}"</dd>

      <dt>Response data</dt>

      <dd>N/A</dd>
    </dl>

    <h3><a name="message-batches-concurrency-checking-etag" id="message-batches-concurrency-checking-etag"></a>Concurrency checking using ETag</h3>

    <p>When retrieving a single Message Batch, the HTTP Header contains an ETag value representing the current concurrency value. The ETag value is randomly generated each time an update is made and is not simply the Batch Id. If you make a PUT request to update the Batch name, you can choose whether to check if the Message Batch has been updated since you retrieved it.</p>

    <h4>Overwrite</h4>

    <ul>
      <li>If you do not add an <code>If-Match: "{ETag}"</code> or <code>If-None-Match: "{ETag}"</code> HTTP header to the PUT request then the Batch name in the request will overwrite any current value.</li>
    </ul>

    <h4>Overwrite If Match</h4>

    <ul>
      <li>If you add an <code>If-Match: "{ETag}"</code> HTTP header to the PUT request then the Batch name will be updated if the ETag value matches the current concurrency value of the stored Batch.<br>
        A <strong>412 Precondition Failed</strong> will be returned if

        <ul>
          <li>the ETag value doesn't match the Batch's current concurrency value</li>

          <li>an asterisk is used instead of an ETag value. This behaviour is not supported.</li>
        </ul>
      </li>
    </ul>

    <h4>Overwrite If None Match</h4>

    <ul>
      <li>If you add an <code>If-None-Match: "{ETag}"</code> HTTP header to the PUT request then the Batch name will be updated if the ETag value <em>does not match</em> the current concurrency value of the stored Batch.<br>
        A <strong>412 Precondition Failed</strong> will be returned if

        <ul>
          <li>the ETag value matches a Batch's current concurrency value</li>

          <li>an asterisk is used instead of an ETag value. This behaviour is not supported.</li>
        </ul>
      </li>
    </ul>

    <h2><a name="response-elements" id="response-elements"></a>Response Elements</h2>

    <h3>&lt;messagebatch&gt; elements</h3>

    <table class="table table-striped" border="0">
      <thead>
        <tr>
          <th>Element name</th>

          <th>Description</th>
        </tr>
      </thead>

      <tbody>
        <tr class="odd">
          <td><code>&lt;createdat&gt;</code></td>

          <td>The date/time the batch was created.</td>
        </tr>

        <tr class="even">
          <td><code>&lt;batchsize&gt;</code></td>

          <td>The number of messages that were submitted in the batch.</td>
        </tr>

        <tr class="odd">
          <td><code>&lt;status&gt;</code></td>

          <td>
            This details the counts for the statuses of the messages in the batch.<br>

            <dl>
              <dt>acknowledged</dt>

              <dd>Voice Message has been acknowledged by the Recipient</dd>

              <dt>authorisationfailed</dt>

              <dd>Premium message could not be authorised to this Recipient</dd>

              <dt>connecting</dt>

              <dd>Voice Message is currently being delivered to the Recipient</dd>

              <dt>delivered</dt>

              <dd>Message has been delivered to the Recipient</dd>

              <dt>failed</dt>

              <dd>Message could not be delivered</dd>

              <dt>partiallydelivered</dt>

              <dd>Voice Message has been partially delivered to the Recipient</dd>

              <dt>rejected</dt>

              <dd>Voice Message has been rejected by the Recipient</dd>

              <dt>scheduled</dt>

              <dd>Message has been scheduled for future delivery</dd>

              <dt>sent</dt>

              <dd>Message has been passed on to the Mobile Networks</dd>

              <dt>submitted</dt>

              <dd>Message is being processed by Esendex</dd>

              <dt>validityperiodexpired</dt>

              <dd>Message could not be delivered within the validity period</dd>

              <dt>cancelled</dt>

              <dd>Indicates when a scheduled Message Batch is cancelled</dd>
            </dl>
          </td>
        </tr>

        <tr class="even">
          <td><code>&lt;accountreference&gt;</code></td>

          <td>The Esendex Account reference that the messages have been sent from.</td>
        </tr>

        <tr class="odd">
          <td><code>&lt;createdby&gt;</code></td>

          <td>The username that submitted the Message Batch.</td>
        </tr>

        <tr class="even">
          <td><code>&lt;name&gt;</code></td>

          <td>The optional name set on an individual Message Batch.</td>
        </tr>

        <tr class="odd">
          <td><code>&lt;link&nbsp;rel="cancel"&gt;</code></td>

          <td>If present, this indicates that this is a scheduled Message Batch and it can be cancelled. See <a href="messagebatches.html#scheduled-batch-cancel">cancelling scheduled Batch</a> for more information.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>