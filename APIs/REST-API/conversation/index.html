---
title: Conversation | Esendex Developers
canonical: /APIs/REST-API/conversation
layout: rest_page
menu_highlight: APIs
---

<h1 class="title">Conversation</h1>

<div class="node">
  <div class="content">
    <p>The Conversation resource can be used to retrieve the most recent 15 Messages that a specified telephone number has sent to and received from the Esendex Accounts the requesting user is authorised to view.</p>

    <h2><a name="view-conversation" id="view-conversation"></a>View conversation</h2>

    <p>This operation will return a response of all the Messages sent to and received from Accounts that the user has permission to view.</p>

    <dl class="dl-horizontal">
      <dt>URL</dt>

      <dd><code>https://api.esendex.com/v1.0/conversation/<em>447700900123</em>/messages</code></dd>

      <dt>HTTP Method</dt>

      <dd>GET</dd>

      <dt>Authentication</dt>

      <dd>Basic / Session</dd>

      <dt>Example request</dt>

      <dd>n/a</dd>

      <dt>Response</dt>

      <dd>Content Type: application/xml<br>
      HTTP Status Code: 200</dd>

      <dt>Response data</dt>

      <dd>
        <pre class="prettyprint">
ersion="1.0" encoding="utf-8"?&gt;
eheaders xmlns="http://api.esendex.com/ns/"&gt;
eheader id="1B9A0D33-4B76-4A9D-919C-1165A9CF1565" uri=http://api.esendex.com/v1.0/messageheaders/1B9A0D33-4B76-4A9D-919C-1165A9CF1565/"&gt;
nce&gt;EX0000000&lt;/reference&gt;
&gt;Delivered&lt;/status&gt;
atusat&gt;2012-01-01T12:00:05.000&lt;/laststatusat&gt;
tedat&gt;2012-01-01T12:00:02.000&lt;/submittedat&gt;
t;SMS&lt;/type&gt;

umber&gt;447700900123&lt;/phonenumber&gt;
;
t;
umber&gt;447700900654&lt;/phonenumber&gt;
gt;
y&gt;Testing REST API&lt;/summary&gt;
ri="http://api.esendex.com/v1.0/messageheaders/1B9A0D33-4B76-4A9D-919C-1165A9CF1565/body"/&gt;
ion&gt;Outbound&lt;/direction&gt;
gt;1&lt;/parts&gt;
me&gt;user@example.com&lt;/username&gt;
geheader&gt;
14 additional message headers]...
geheaders&gt;


;

gt;
  
e&gt;
    
pre>
      </dd>
    </dl>

    <h2><a name="response-elements" id="response-elements"></a>Response Elements</h2>

    <h3>&lt;messageheader&gt; elements</h3>

    <table class="table table-striped" border="0">
      <thead>
        <tr>
          <th>Element name</th>

          <th>Description</th>
        </tr>
      </thead>

      <tbody>
        <tr class="odd">
          <td><code>id</code> (<em>attribute</em>)</td>

          <td>The unique identifier for the Message Header. Each Message Header returned will include a non-empty GUID Id value.&nbsp; It is a stable GUID that does not change.</td>
        </tr>

        <tr class="even">
          <td><code>uri</code> (<em>attribute</em>)</td>

          <td>The URI field represents the path to follow to return only the individual Message Header resource.</td>
        </tr>

        <tr class="odd">
          <td><code>&lt;reference&gt;</code></td>

          <td>The Esendex Account Reference that the Message was received by.</td>
        </tr>

        <tr class="even">
          <td><code>&lt;status&gt;</code></td>

          <td>
            The status code refers to the current state of the Message. The possible values are:<br>
            <br>

            <dl>
              <dt>Submitted</dt>

              <dd>Message is being processed by Esendex</dd>

              <dt>Sent</dt>

              <dd>Message has been passed on to the Mobile Networks</dd>

              <dt>Delivered</dt>

              <dd>Message has been delivered to the Recipient</dd>

              <dt>Expired</dt>

              <dd>Message could not be delivered within the validity period</dd>

              <dt>Failed</dt>

              <dd>Message could not be delivered</dd>

              <dt>Failed Authorisation</dt>

              <dd>Premium message could not be authorised to this Recipient</dd>

              <dt>Acknowledged</dt>

              <dd>Voice Message has been acknowledged by the Recipient</dd>

              <dt>Connecting</dt>

              <dd>Voice Message is currently being delivered to the Recipient</dd>
            </dl>
          </td>
        </tr>

        <tr class="odd">
          <td><code>&lt;laststatusat&gt;</code></td>

          <td>The most recent date/time the status of this Message was updated.</td>
        </tr>

        <tr class="even">
          <td><code>&lt;submittedat&gt;</code></td>

          <td>The date that the Message was submitted to Esendex.</td>
        </tr>

        <tr class="odd">
          <td><code>&lt;type&gt;</code></td>

          <td>The type of Message can be 'SMS' or 'Voice'.</td>
        </tr>

        <tr class="even">
          <td><code>&lt;to&gt;</code></td>

          <td>
            This Field contains the telephone number that the Message has been sent to. If the telephone number is not in your list of Contacts, the telephone number will look like:
            <pre class="prettyprint">

umber&gt;447700900123&lt;/phonenumber&gt;
;


    <br>If the telephone number can be matched to one of your Contacts, a more complete response will be returned:
    
;
      
gt;
        
e&gt;
          
pre>
            <pre class="prettyprint">




"06970C0B-FBC6-40B1-BA45-B193377821D5" uri="http://api.esendex.com/v1.0/Contacts/06970C0B-FBC6-40B1-BA45-B193377821D5"&gt;
yname&gt;Test Contact&lt;/displayname&gt;
umber&gt;447700900753&lt;/phonenumber&gt;
;

  
;
    
gt;
      
e&gt;
        
pre>
          </td>
        </tr>

        <tr class="odd">
          <td><code>&lt;from&gt;</code></td>

          <td>
            This Field will contain the telephone number or alphanumeric alias that the Message was sent from. E.g.
            <pre class="prettyprint">
t;
umber&gt;447700900123&lt;/phonenumber&gt;
gt;


    <br>If the telephone number can be matched to one of your Contacts, a more complete response will be returned:
    
;
      
gt;
        
e&gt;
          
pre>
            <pre class="prettyprint">




d="06970C0B-FBC6-40B1-BA45-B193377821D5" uri="http://api.esendex.com/v1.0/Contacts/06970C0B-FBC6-40B1-BA45-B193377821D5"&gt;
yname&gt;Test Contact&lt;/displayname&gt;
umber&gt;447700900753&lt;/phonenumber&gt;
gt;

  
;
    
gt;
      
e&gt;
        
pre>
          </td>
        </tr>

        <tr class="even">
          <td><code>&lt;summary&gt;</code></td>

          <td>The shortened version of the Message will only return the first few characters of a Message as a preview of the contents held within the Message Body.</td>
        </tr>

        <tr class="odd">
          <td><code>&lt;body&gt;</code></td>

          <td>Provides the Id and URL to follow which will return the complete content of the Message (Message Body) rather than just the summary.</td>
        </tr>

        <tr class="even">
          <td><code>&lt;direction&gt;</code></td>

          <td>This will always be Outbound for the Message Headers collection.</td>
        </tr>

        <tr class="odd">
          <td><code>&lt;parts&gt;</code></td>

          <td>The number of SMS parts that make up the Message.</td>
        </tr>

        <tr class="even">
          <td><code>&lt;username&gt;</code></td>

          <td>The email address of the user that sent the Messages.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>